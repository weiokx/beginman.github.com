---
layout: post
title: Vim简明学习（一）
category: vim
tags: [Linux,vim]
description: Linux学习，  Vim简明学习
---

##一.有言在先

>特殊字符如^ $等要使用 Shift。

>配合数字（如`20h`:表示向左移动20个字符）的不要用小键盘输入数字。

>不是blank字符的位置（所谓blank字符就是空格，tab，换行，回车等）

>在规则表示式（regular expression）中，^ 是匹配行首，$ 是匹配行尾。


##二.基础知识
1.启动vim 进入Nomal模式(在VIM的Normal模式下，所有的键就是功能键了，而不是键入字符。)

2.按`i` 或者`insert`键进入Insert模式

3.`x` → 删当前光标所在的一个字符。

4.`:wq` → 存盘 + 退出 (:w 存盘, :q 退出)

5.`dd` → 删除当前行，并把删除的行存到剪贴板里

6.`p` → 粘贴剪贴板

7.`h`:左（←）；`l`:右（→）； `j`：下（↓）；`k`：上（↑）

8.`20h`或者20(←):光标向左移动20个字符;  [上述7的就同理了]

8.`Ctrl+f`	即PageDown 翻页（Forward，向前、下翻页）。

9.`Crtl+b`	即PageUp 翻页（Backward，向后、上翻页)。


8.`：help[<command>]` 打开帮助

![](http://beginman.qiniudn.com/vim-help)

##三.插入
1.`a` → 在光标后插入

2.`o` → 在当前行后插入一个新行

3.`O` → 在当前行前插入一个新行

4.`cw` → 替换从光标所在位置后到一个单词结尾的字符（感觉像是删除光标之后到行尾的字符）

##四.光标移动
1.`0` → 数字0 而不是英文字母o。或是Home 键，移至行首。（含空白字元(不是blank字符的位置)）。

2.`^` → 移至行首第一个非空白字元，注意，**要Shift 键。**

2.`$` → 移至行尾，或End 键。**要 Shift 键**。

3.`Shift+A` →是到行尾，并编辑。

4.`Shift+G` →到最后一行

5.`G` → 移至档尾（全文最后一行的第一个非空白字元处）

6.`gg` →	移至档首（全文第一行之第一个非空白字元处）。

7.`w` → 移至次一个字（word）字首。当然是指英文单字。

8.`W`	→ 同上，但会忽略一些标点符号。

9.`e`	→ 移至单词字尾（如果存在标点符号则会移至标点符号处（即不忽略一些标点符号））。

10.`E` →	同上，但会忽略一些标点符号。

11.`b`	 → 移至单词字首（如果存在标点符号则会移至标点符号处（即不忽略一些标点符号））。。

12.`B`	 → 同上，但会忽略一些标点符号。

13. `:n` →	移至第n 行行首。或 nG。


##五.特殊移动
1.`)`	→ 移至下一个句子（sentence）首。

2.`(`	→ 移至上一个句子（sentence）首。 sentence（句子）是以 . ! ? 为区格。

3.`}`	→ 移至下一个段落（paragraph）首。

4.`{`	→ 移至上一个段落（paragraph）首。 paragraph（段落）是以空白行为区格。

5.`%`	→ 这是匹配{}，[]，() 用的，例如光标在{ 上只要按%，就会跑到相匹配的} 上。

**注意：要配合Shift键**

##六.删除

1.`x` → 向后删除一个字符（相当于del）

2.`X` → 同上，向前删除

3.`nx` → 向后删除n个字符

4.`nX` → 同上，向前删除n个字符

5.`dd` → 删除光标所在的一整行

6.`ndd` → n 为数字。删除光标所在行向下 n 行，例如 20dd 则是删除 20 行(常用)

7.`dnG` → 删除光标所在行到第n行的所有数据，如d1G:表示删除光标所在行到第一行的所有数据。如果光标所在行再档尾，相当于删除整个文档的数据了。

8.`dG` → 删除光标所在行到最后一行的所有数据

9.`d$` → 删除光标所在处，到该行的最后一个字符

10.`d0` → 那个是数字的 0 ，删除光标所在处，到该行的最前面一个字符

11.`c` → 重复删除多个数据，可以通过上下键来决定删除光标上面的，还是下面的

##七.撤销
1.`u` → 撤销

2.`ctrl+r` → 恢复

##八.复制

1.`yy` → 复制光标所在的那一行(常用)

2.`nyy` → n 为数字。复制光标所在行向下 n 行，例如 20yy 则是复制 20 行(常用)

3.`ynG` → n为数字，复制光标所在行到第n行的所有数据.

4.`yG` → 复制光标所在行到最后一行的所有数据

5.`y$` → 复制光标所在的那个字符到该行行尾的所有数据

6.`y0` → 复制光标所在的那个字符到该行行首的所有数据

7.`ggvG` :全选高亮显示文字
##九.粘贴

`p`, `P`  → p将复制的数据，粘贴在光标的下一行，P将复制的数据,粘贴到光标的上一行


##十.区块选择
**注意：以下就是通过不同的范围方式来反白选择，可配合上下左右方向键进行更多的反白，然后可以按`y`复制起来或者按`d`删掉。**

`v` : [可视]字符选择，会将光标经过的地方反白选择！

`V` : 行选择，会将光标经过的行反白选择！

`Ctrl + v` : 区块选择，可以用长方形的方式选择资料

`y` : 将反白的地方复制起来

`d` : 将反白的地方删除掉

##十一.查找与替换

`/string` : 光标之下寻找名为string的字符串

`?/string`：光标之上寻找名为string的字符串

`n`：next，正向(从上到下)查找搜索出string

`N`：Not next ,反向(从下到上)查找搜索出string

`:n1,n2s/string1/string2/g`：这里的n1是查找的开始行数，n2是查找结束的行数。【:2,7s/ddd/fff/g】在第2行,第7行之间，将ddd替换成fff

`:1,$s/string1/string2/g`：从第一行到最后一行寻找 string1 字符串，并将该字符串替换为 string2 ！(常用)

`:1,$s/string1/string2/gc` : 从第一行到最后一行寻找 string1 字符串，并将该字符串替换为 string2 ！且在替换前显示提示字符给用户确认 (confirm) 是否需要替换！(常用)

**注意：以上字符最好联想到正则表达式，这样才便于记忆！**

##十二.保存，退出，环境变量

`:w`：将编辑的数据写入硬盘档案中(常用)

`:w!`：若文件属性为『只读』时，强制写入该档案。不过，到底能不能写入， 还是跟你对该档案的档案权限有关啊!

`:q`：离开 vi (常用)

`:q!`：若曾修改过档案，又不想储存，使用 ! 为强制离开不储存档案。

`:wq`：储存后离开

`:wq!`：强制储存后离开

`ZZ`：若档案没有更动，则不储存离开，若档案已经被更动过，则储存后离开!

`:w [filename]`：另存为

`:r [filename]`：在编辑的数据中，读入另一个档案的数据。亦即将 『filename』 这个档案内容加到光标所在行后面

`:! command`：暂时离开 vi 到指令列模式下执行 command 的显示结果！例如 『:! cat ./test』即可在 vi 当中察看当前文件夹中的test文件中的内容

`Esc` : 退出插入模式，进入命令模式

`:set nu` :显示行号，设定之后，会在每一行的前缀显示该行的行号,这一点，非常有用，当我们修改配置文件的时候，能知道多少行，就方便多了。

`:set nonu` : 与 set nu 相反，取消行号

##十三.小技巧

`.` : (小数点) 可以重复上一次的命令

`N<command>` : 重复某个命令N次，如`2dd `:删除2行,`3p`:粘贴文本3次, 比如要输入100个hello,你可以这样写：`100ihello`然后按ESC后，它就会写入100个hello。


##参考：

1.[Vim光标移动](http://www.ccvita.com/433.html)

2.[简明 Vim 练级攻略](http://coolshell.cn/articles/5426.html)

3.[vim复制,粘贴,删除,撤销,替换,光标移动等用法](http://blog.51yip.com/linux/1140.html)
